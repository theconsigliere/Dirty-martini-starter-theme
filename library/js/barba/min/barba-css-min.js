"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).barbaCss=e()}(void 0,(function(){var t="2.1.13";return new(function(){function e(){this.name="@barba/css",this.version=t,this.prefix="barba",this.callbacks={},this.t=!1}var r=e.prototype;return r.install=function(t){this.logger=new t.Logger(this.name),this.logger.info(this.version),this.barba=t,this.i=this.i.bind(this),this.s=this.s.bind(this),this.h=this.h.bind(this)},r.init=function(){this.barba.hooks.before(this.o,this),this.barba.hooks.beforeOnce(this.o,this),this.barba.hooks.beforeOnce(this.u,this),this.barba.hooks.afterOnce(this.m,this),this.barba.hooks.beforeLeave(this.P,this),this.barba.hooks.afterLeave(this.v,this),this.barba.hooks.beforeEnter(this.l,this),this.barba.hooks.afterEnter(this.p,this),this.barba.transitions.once=this.i,this.barba.transitions.leave=this.s,this.barba.transitions.enter=this.h,this.barba.transitions.store.all.unshift({name:"barba",once:function(){},leave:function(){},enter:function(){}}),this.barba.transitions.store.update()},r.start=function(t,e){try{var r=this;return r.add(t,e),Promise.resolve(r.barba.helpers.nextTick()).then((function(){return r.add(t,e+"-active"),Promise.resolve(r.barba.helpers.nextTick()).then((function(){}))}))}catch(t){return Promise.reject(t)}},r.next=function(t,e){try{var r=this;return r.t=r.g(t),Promise.resolve(r.t?new Promise((function(n){try{return r.cb=n,r.callbacks[e]=n,t.addEventListener("transitionend",n,!1),Promise.resolve(r.barba.helpers.nextTick()).then((function(){return r.remove(t,e),r.add(t,e+"-to"),Promise.resolve(r.barba.helpers.nextTick()).then((function(){}))}))}catch(t){return Promise.reject(t)}})):(r.remove(t,e),Promise.resolve(r.barba.helpers.nextTick()).then((function(){return r.add(t,e+"-to"),Promise.resolve(r.barba.helpers.nextTick()).then((function(){}))}))))}catch(t){return Promise.reject(t)}},r.end=function(t,e){try{return this.remove(t,e+"-to"),this.remove(t,e+"-active"),t.removeEventListener("transitionend",this.callbacks[e]),this.t=!1,Promise.resolve()}catch(t){return Promise.reject(t)}},r.add=function(t,e){t.classList.add(this.prefix+"-"+e)},r.remove=function(t,e){t.classList.remove(this.prefix+"-"+e)},r.o=function(t,e){this.prefix=e.name||"barba"},r.g=function(t){return"0s"!==getComputedStyle(t).transitionDuration},r.u=function(t){return this.start(t.next.container,"once")},r.i=function(t,e){try{var r=this;return Promise.resolve(r.barba.hooks.do("once",t,e)).then((function(){return r.next(t.next.container,"once")}))}catch(t){return Promise.reject(t)}},r.m=function(t){return this.end(t.next.container,"once")},r.P=function(t){return this.start(t.current.container,"leave")},r.s=function(t,e){try{var r=this;return Promise.resolve(r.barba.hooks.do("leave",t,e)).then((function(){return r.next(t.current.container,"leave")}))}catch(t){return Promise.reject(t)}},r.v=function(t){return this.end(t.current.container,"leave"),this.barba.transitions.remove(t),Promise.resolve()},r.l=function(t){return 1===this.barba.history.size?Promise.resolve():this.start(t.next.container,"enter")},r.h=function(t,e){try{var r=this;return Promise.resolve(r.barba.hooks.do("enter",t,e)).then((function(){return r.next(t.next.container,"enter")}))}catch(t){return Promise.reject(t)}},r.p=function(t){return 1===this.barba.history.size?Promise.resolve():this.end(t.next.container,"enter")},e}())}));
//# sourceMappingURL=barba-css-min.js.map