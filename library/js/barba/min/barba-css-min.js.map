{"version":3,"sources":["../barba-css.js"],"names":["t","i","exports","_typeof","module","define","amd","self","barbaCss","this","name","version","prefix","callbacks","n","prototype","install","logger","Logger","info","barba","bind","s","h","init","hooks","before","o","beforeOnce","u","afterOnce","m","beforeLeave","P","afterLeave","v","beforeEnter","l","afterEnter","p","transitions","once","leave","enter","store","all","unshift","update","start","add","Promise","resolve","helpers","nextTick","then","reject","next","g","r","cb","addEventListener","remove","end","removeEventListener","classList","getComputedStyle","transitionDuration","container","do","current","history","size"],"mappings":"+PAAE,SAASA,EAAGC,GACZ,WAAA,oBAAmBC,QAAnB,YAAAC,QAAmBD,WAAW,oBAAsBE,OAC/CA,OAAOF,QAAUD,IAClB,mBAAqBI,QAAUA,OAAOC,IACtCD,OAAOJ,IACLD,EAAIA,GAAKO,MAAMC,SAAWP,IALhC,MAAD,GAMQ,WACP,IAAID,EAAI,SACR,OAAO,IAAM,WACX,SAASC,IACNQ,KAAKC,KAAO,aACVD,KAAKE,QAAUX,EACfS,KAAKG,OAAS,QACdH,KAAKI,UAAY,GACjBJ,KAAKT,GAAI,EAEd,IAAIc,EAAIb,EAAEc,UACV,OACGD,EAAEE,QAAU,SAAShB,GACnBS,KAAKQ,OAAS,IAAIjB,EAAEkB,OAAOT,KAAKC,MAC/BD,KAAKQ,OAAOE,KAAKV,KAAKE,SACrBF,KAAKW,MAAQpB,EACbS,KAAKR,EAAIQ,KAAKR,EAAEoB,KAAKZ,MACrBA,KAAKa,EAAIb,KAAKa,EAAED,KAAKZ,MACrBA,KAAKc,EAAId,KAAKc,EAAEF,KAAKZ,OAEzBK,EAAEU,KAAO,WACRf,KAAKW,MAAMK,MAAMC,OAAOjB,KAAKkB,EAAGlB,MAC9BA,KAAKW,MAAMK,MAAMG,WAAWnB,KAAKkB,EAAGlB,MACpCA,KAAKW,MAAMK,MAAMG,WAAWnB,KAAKoB,EAAGpB,MACpCA,KAAKW,MAAMK,MAAMK,UAAUrB,KAAKsB,EAAGtB,MACnCA,KAAKW,MAAMK,MAAMO,YAAYvB,KAAKwB,EAAGxB,MACrCA,KAAKW,MAAMK,MAAMS,WAAWzB,KAAK0B,EAAG1B,MACpCA,KAAKW,MAAMK,MAAMW,YAAY3B,KAAK4B,EAAG5B,MACrCA,KAAKW,MAAMK,MAAMa,WAAW7B,KAAK8B,EAAG9B,MACnCA,KAAKW,MAAMoB,YAAYC,KAAOhC,KAAKR,EACnCQ,KAAKW,MAAMoB,YAAYE,MAAQjC,KAAKa,EACpCb,KAAKW,MAAMoB,YAAYG,MAAQlC,KAAKc,EACrCd,KAAKW,MAAMoB,YAAYI,MAAMC,IAAIC,QAAQ,CACvCpC,KAAM,QACN+B,KAAM,aACNC,MAAO,aACPC,MAAO,eAETlC,KAAKW,MAAMoB,YAAYI,MAAMG,UAEhCjC,EAAEkC,MAAQ,SAAShD,EAAGC,GACrB,IACE,IAAIa,EAAIL,KACR,OACEK,EAAEmC,IAAIjD,EAAGC,GACTiD,QAAQC,QAAQrC,EAAEM,MAAMgC,QAAQC,YAAYC,MAAK,WAC/C,OACExC,EAAEmC,IAAIjD,EAAGC,EAAI,WACbiD,QAAQC,QAAQrC,EAAEM,MAAMgC,QAAQC,YAAYC,MAAK,kBAIvD,MAAOtD,GACP,OAAOkD,QAAQK,OAAOvD,KAGzBc,EAAE0C,KAAO,SAASxD,EAAGC,GACpB,IACE,IAAIa,EAAIL,KACR,OACGK,EAAEd,EAAIc,EAAE2C,EAAEzD,GACXkD,QAAQC,QACNrC,EAAEd,EACE,IAAIkD,SAAQ,SAASQ,GACnB,IACE,OACG5C,EAAE6C,GAAKD,EACP5C,EAAED,UAAUZ,GAAKyD,EAClB1D,EAAE4D,iBAAiB,gBAAiBF,GAAG,GACvCR,QAAQC,QAAQrC,EAAEM,MAAMgC,QAAQC,YAAYC,MAC1C,WACE,OACExC,EAAE+C,OAAO7D,EAAGC,GACZa,EAAEmC,IAAIjD,EAAGC,EAAI,OACbiD,QAAQC,QACNrC,EAAEM,MAAMgC,QAAQC,YAChBC,MAAK,kBAKf,MAAOtD,GACP,OAAOkD,QAAQK,OAAOvD,QAGzBc,EAAE+C,OAAO7D,EAAGC,GACbiD,QAAQC,QAAQrC,EAAEM,MAAMgC,QAAQC,YAAYC,MAAK,WAC/C,OACExC,EAAEmC,IAAIjD,EAAGC,EAAI,OACbiD,QAAQC,QACNrC,EAAEM,MAAMgC,QAAQC,YAChBC,MAAK,oBAKnB,MAAOtD,GACP,OAAOkD,QAAQK,OAAOvD,KAGzBc,EAAEgD,IAAM,SAAS9D,EAAGC,GACnB,IACE,OACEQ,KAAKoD,OAAO7D,EAAGC,EAAI,OACnBQ,KAAKoD,OAAO7D,EAAGC,EAAI,WACnBD,EAAE+D,oBAAoB,gBAAiBtD,KAAKI,UAAUZ,IACrDQ,KAAKT,GAAI,EACVkD,QAAQC,UAEV,MAAOnD,GACP,OAAOkD,QAAQK,OAAOvD,KAGzBc,EAAEmC,IAAM,SAASjD,EAAGC,GACnBD,EAAEgE,UAAUf,IAAIxC,KAAKG,OAAS,IAAMX,IAErCa,EAAE+C,OAAS,SAAS7D,EAAGC,GACtBD,EAAEgE,UAAUH,OAAOpD,KAAKG,OAAS,IAAMX,IAExCa,EAAEa,EAAI,SAAS3B,EAAGC,GACjBQ,KAAKG,OAASX,EAAES,MAAQ,SAEzBI,EAAE2C,EAAI,SAASzD,GACd,MAAO,OAASiE,iBAAiBjE,GAAGkE,oBAErCpD,EAAEe,EAAI,SAAS7B,GACd,OAAOS,KAAKuC,MAAMhD,EAAEwD,KAAKW,UAAW,SAErCrD,EAAEb,EAAI,SAASD,EAAGC,GACjB,IACE,IAAIa,EAAIL,KACR,OAAOyC,QAAQC,QAAQrC,EAAEM,MAAMK,MAAM2C,GAAG,OAAQpE,EAAGC,IAAIqD,MACrD,WACE,OAAOxC,EAAE0C,KAAKxD,EAAEwD,KAAKW,UAAW,WAGpC,MAAOnE,GACP,OAAOkD,QAAQK,OAAOvD,KAGzBc,EAAEiB,EAAI,SAAS/B,GACd,OAAOS,KAAKqD,IAAI9D,EAAEwD,KAAKW,UAAW,SAEnCrD,EAAEmB,EAAI,SAASjC,GACd,OAAOS,KAAKuC,MAAMhD,EAAEqE,QAAQF,UAAW,UAExCrD,EAAEQ,EAAI,SAAStB,EAAGC,GACjB,IACE,IAAIa,EAAIL,KACR,OAAOyC,QAAQC,QAAQrC,EAAEM,MAAMK,MAAM2C,GAAG,QAASpE,EAAGC,IAAIqD,MACtD,WACE,OAAOxC,EAAE0C,KAAKxD,EAAEqE,QAAQF,UAAW,YAGvC,MAAOnE,GACP,OAAOkD,QAAQK,OAAOvD,KAGzBc,EAAEqB,EAAI,SAASnC,GACd,OACES,KAAKqD,IAAI9D,EAAEqE,QAAQF,UAAW,SAC9B1D,KAAKW,MAAMoB,YAAYqB,OAAO7D,GAC9BkD,QAAQC,WAGXrC,EAAEuB,EAAI,SAASrC,GACd,OAAO,IAAMS,KAAKW,MAAMkD,QAAQC,KAC5BrB,QAAQC,UACR1C,KAAKuC,MAAMhD,EAAEwD,KAAKW,UAAW,UAElCrD,EAAES,EAAI,SAASvB,EAAGC,GACjB,IACE,IAAIa,EAAIL,KACR,OAAOyC,QAAQC,QAAQrC,EAAEM,MAAMK,MAAM2C,GAAG,QAASpE,EAAGC,IAAIqD,MACtD,WACE,OAAOxC,EAAE0C,KAAKxD,EAAEwD,KAAKW,UAAW,YAGpC,MAAOnE,GACP,OAAOkD,QAAQK,OAAOvD,KAGzBc,EAAEyB,EAAI,SAASvC,GACd,OAAO,IAAMS,KAAKW,MAAMkD,QAAQC,KAC5BrB,QAAQC,UACR1C,KAAKqD,IAAI9D,EAAEwD,KAAKW,UAAW,UAEjClE,EAzLG","sourcesContent":["!(function(t, i) {\n  \"object\" == typeof exports && \"undefined\" != typeof module\n    ? (module.exports = i())\n    : \"function\" == typeof define && define.amd\n    ? define(i)\n    : ((t = t || self).barbaCss = i());\n})(this, function() {\n  var t = \"2.1.13\";\n  return new ((function() {\n    function i() {\n      (this.name = \"@barba/css\"),\n        (this.version = t),\n        (this.prefix = \"barba\"),\n        (this.callbacks = {}),\n        (this.t = !1);\n    }\n    var n = i.prototype;\n    return (\n      (n.install = function(t) {\n        (this.logger = new t.Logger(this.name)),\n          this.logger.info(this.version),\n          (this.barba = t),\n          (this.i = this.i.bind(this)),\n          (this.s = this.s.bind(this)),\n          (this.h = this.h.bind(this));\n      }),\n      (n.init = function() {\n        this.barba.hooks.before(this.o, this),\n          this.barba.hooks.beforeOnce(this.o, this),\n          this.barba.hooks.beforeOnce(this.u, this),\n          this.barba.hooks.afterOnce(this.m, this),\n          this.barba.hooks.beforeLeave(this.P, this),\n          this.barba.hooks.afterLeave(this.v, this),\n          this.barba.hooks.beforeEnter(this.l, this),\n          this.barba.hooks.afterEnter(this.p, this),\n          (this.barba.transitions.once = this.i),\n          (this.barba.transitions.leave = this.s),\n          (this.barba.transitions.enter = this.h),\n          this.barba.transitions.store.all.unshift({\n            name: \"barba\",\n            once: function() {},\n            leave: function() {},\n            enter: function() {}\n          }),\n          this.barba.transitions.store.update();\n      }),\n      (n.start = function(t, i) {\n        try {\n          var n = this;\n          return (\n            n.add(t, i),\n            Promise.resolve(n.barba.helpers.nextTick()).then(function() {\n              return (\n                n.add(t, i + \"-active\"),\n                Promise.resolve(n.barba.helpers.nextTick()).then(function() {})\n              );\n            })\n          );\n        } catch (t) {\n          return Promise.reject(t);\n        }\n      }),\n      (n.next = function(t, i) {\n        try {\n          var n = this;\n          return (\n            (n.t = n.g(t)),\n            Promise.resolve(\n              n.t\n                ? new Promise(function(r) {\n                    try {\n                      return (\n                        (n.cb = r),\n                        (n.callbacks[i] = r),\n                        t.addEventListener(\"transitionend\", r, !1),\n                        Promise.resolve(n.barba.helpers.nextTick()).then(\n                          function() {\n                            return (\n                              n.remove(t, i),\n                              n.add(t, i + \"-to\"),\n                              Promise.resolve(\n                                n.barba.helpers.nextTick()\n                              ).then(function() {})\n                            );\n                          }\n                        )\n                      );\n                    } catch (t) {\n                      return Promise.reject(t);\n                    }\n                  })\n                : (n.remove(t, i),\n                  Promise.resolve(n.barba.helpers.nextTick()).then(function() {\n                    return (\n                      n.add(t, i + \"-to\"),\n                      Promise.resolve(\n                        n.barba.helpers.nextTick()\n                      ).then(function() {})\n                    );\n                  }))\n            )\n          );\n        } catch (t) {\n          return Promise.reject(t);\n        }\n      }),\n      (n.end = function(t, i) {\n        try {\n          return (\n            this.remove(t, i + \"-to\"),\n            this.remove(t, i + \"-active\"),\n            t.removeEventListener(\"transitionend\", this.callbacks[i]),\n            (this.t = !1),\n            Promise.resolve()\n          );\n        } catch (t) {\n          return Promise.reject(t);\n        }\n      }),\n      (n.add = function(t, i) {\n        t.classList.add(this.prefix + \"-\" + i);\n      }),\n      (n.remove = function(t, i) {\n        t.classList.remove(this.prefix + \"-\" + i);\n      }),\n      (n.o = function(t, i) {\n        this.prefix = i.name || \"barba\";\n      }),\n      (n.g = function(t) {\n        return \"0s\" !== getComputedStyle(t).transitionDuration;\n      }),\n      (n.u = function(t) {\n        return this.start(t.next.container, \"once\");\n      }),\n      (n.i = function(t, i) {\n        try {\n          var n = this;\n          return Promise.resolve(n.barba.hooks.do(\"once\", t, i)).then(\n            function() {\n              return n.next(t.next.container, \"once\");\n            }\n          );\n        } catch (t) {\n          return Promise.reject(t);\n        }\n      }),\n      (n.m = function(t) {\n        return this.end(t.next.container, \"once\");\n      }),\n      (n.P = function(t) {\n        return this.start(t.current.container, \"leave\");\n      }),\n      (n.s = function(t, i) {\n        try {\n          var n = this;\n          return Promise.resolve(n.barba.hooks.do(\"leave\", t, i)).then(\n            function() {\n              return n.next(t.current.container, \"leave\");\n            }\n          );\n        } catch (t) {\n          return Promise.reject(t);\n        }\n      }),\n      (n.v = function(t) {\n        return (\n          this.end(t.current.container, \"leave\"),\n          this.barba.transitions.remove(t),\n          Promise.resolve()\n        );\n      }),\n      (n.l = function(t) {\n        return 1 === this.barba.history.size\n          ? Promise.resolve()\n          : this.start(t.next.container, \"enter\");\n      }),\n      (n.h = function(t, i) {\n        try {\n          var n = this;\n          return Promise.resolve(n.barba.hooks.do(\"enter\", t, i)).then(\n            function() {\n              return n.next(t.next.container, \"enter\");\n            }\n          );\n        } catch (t) {\n          return Promise.reject(t);\n        }\n      }),\n      (n.p = function(t) {\n        return 1 === this.barba.history.size\n          ? Promise.resolve()\n          : this.end(t.next.container, \"enter\");\n      }),\n      i\n    );\n  })())();\n});\n//# sourceMappingURL=barba-css.umd.js.map\n"]}